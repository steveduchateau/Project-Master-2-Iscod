<div *ngIf="isLoading" class="loading">Chargement des données...</div>

<div *ngIf="!isLoading && competence" class="competence-details">
  <h1 class="competence-title">{{ competence.nom }}</h1>

  <div class="competence-description">
    <p><strong>Description :</strong> {{ competence.description }}</p>
    <p><strong>Utilisation :</strong> {{ competence.utilisation }}</p>
    <p><strong>Niveau de Maîtrise :</strong> {{ competence.niveau_maitrise }}</p>
    <p><strong>Marge de Progression :</strong> {{ competence.marge_progression }}</p>
    <p><strong>Importance pour le Profil :</strong> {{ competence.importance_profil }}</p>
    <p><strong>Vitesse d'Acquisition :</strong> {{ competence.vitesse_acquisition }}</p>
    <p><strong>Conseils d'Expérience :</strong> {{ competence.conseils_experience }}</p>
    <p><strong>Objectif Moyen Terme :</strong> {{ competence.objectif_moyen_terme }}</p>
    <p><strong>Formations en Cours :</strong> {{ competence.formations_en_cours }}</p>
  </div>

  <div *ngIf="competence.anecdotes?.length" class="anecdotes">
    <h2>Anecdotes</h2>
    <ul>
      <li *ngFor="let anecdote of competence.anecdotes">
        <strong>{{ anecdote.titre }}</strong>
        <p>{{ anecdote.description }}</p>
        <p><strong>Résultat :</strong> {{ anecdote.resultat }}</p>
        <a [href]="anecdote.lien_realisations" target="_blank">Voir les réalisations</a>
      </li>
    </ul>
  </div>

  <button (click)="goBack()">Retour</button>
</div>

<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
